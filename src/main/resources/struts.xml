<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<constant name="struts.enable.DynamicMethodInvocation" value="true" />
	<constant name="struts.action.extension" value="action" />
	<constant name="struts.objectFactory" value="spring" />

	<!-- 首页 -->
	<package name="index" namespace="/" extends="struts-default">
		<action name="index" class="indexAction">
			<result name="input">/WEB-INF/search.jsp</result>
		</action>
	</package>

	<!-- 登录 -->
	<package name="login" namespace="/login" extends="struts-default,json-default">
		<action name="login" class="loginAction">
			<result name="input">/WEB-INF/login.jsp</result>
			<result name="login_succ">/WEB-INF/search.jsp</result>
			<result name="logout" type="redirect">/index.jsp</result>
			<result name="ajax" type="json"></result>
			<result name="ajax_admin" type="json"></result>
		</action>
		<action name="adminLogin" class="loginAction">
			<result name="input">/WEB-INF/admin/main.jsp</result>
		</action>
		
		<!-- 重置密码 -->
		<action name="resetPwd" class="resetPwdAction">
			<result name="input">/WEB-INF/resetpwd.jsp</result>
		</action>
	</package>

	<!-- 注册 -->
	<package name="reg" namespace="/reg" extends="struts-default,json-default">
		<action name="reg" class="regAction">
			<result name="input">/WEB-INF/reg.jsp</result>
			<result name="reg_succ">/WEB-INF/reg_succ.jsp</result>
			<result name="active_succ">/WEB-INF/active_succ.jsp</result>
			<result name="active_fail">/WEB-INF/active_fail.jsp</result>
			<result name="ajax" type="json"></result>
		</action>
	</package>

	<!-- 股票明细 -->
	<package name="stock" namespace="/stock" extends="struts-default">
		<action name="stock" class="stockAction">
			<result name="input">/WEB-INF/stock.jsp</result>
		</action>
	</package>
	
	<!-- 图片验证码 -->
	<package name="imageAuth" namespace="/imageAuth" extends="struts-default">
		<action name="imageAuth" class="imageAuthAction">
			<result name="input" type="stream">
				<param name="contentType">image/jpeg</param>
				<param name="inputName">imageStream</param>
				<param name="bufferSize">2048</param>
			</result>
		</action>
	</package>
	
	<!-- 后台管理菜单 -->
	<package name="menuMgr" namespace="/menuMgr" extends="struts-default,json-default">
		<action name="adminUserMgr" class="adminUserMgrAction">
			<result name="input">/WEB-INF/admin/userMgr/adminUserQuery.jsp</result>
			<result name="ajax" type="json"></result>
		</action>
	</package>
	

	<!-- Add packages here <include file="example.xml"/> -->
</struts>
