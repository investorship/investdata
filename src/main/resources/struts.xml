<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<constant name="struts.enable.DynamicMethodInvocation" value="true" />
	<constant name="struts.action.extension" value="action" />
	<constant name="struts.objectFactory" value="spring" />
	<constant name="struts.i18n.encoding" value="UTF-8"></constant> 
	
	<!-- 基础配置包[拦截器]，所有包继承该包 -->
	<package name="struts_basic" extends="struts-default,json-default">
		<interceptors>
			<interceptor name="encodingInterceptor" class="com.investdata.common.interceptor.EncodingInterceptor"></interceptor>
			<interceptor name="methodInterceptor" class="com.investdata.common.interceptor.MethodInterceptor"></interceptor>
			<interceptor-stack name="investInterceptor">
				<interceptor-ref name="defaultStack" ></interceptor-ref>
				<!--<interceptor-ref name="encodingInterceptor" ></interceptor-ref>  -->
				<interceptor-ref name="methodInterceptor"></interceptor-ref>
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="investInterceptor"></default-interceptor-ref>
	</package>
	
	
	<!-- 首页 -->
	<package name="index" namespace="/" extends="struts_basic">
		<action name="index" class="indexAction">
			<result name="input">/WEB-INF/search.jsp</result>
		</action>
	</package>

	<!-- 登录 -->
	<package name="login" namespace="/login" extends="struts_basic">
		<action name="login" class="loginAction">
			<result name="input">/WEB-INF/login.jsp</result>
			<result name="login_succ">/WEB-INF/search.jsp</result>
			<result name="logout" type="redirect">/index.jsp</result>
			<result name="adminLogout" type="redirect">/admin.jsp</result>
			<result name="ajax" type="json"></result>
			<result name="ajax_admin" type="json"></result>
		</action>
		<action name="adminLogin" class="loginAction">
			<result name="input">/WEB-INF/admin/main.jsp</result>
		</action>
		
		<!-- 密码操作 -->
		<action name="passwordOperAction" class="passwordOperAction" >
			<result name="reset_pwd_input">/WEB-INF/resetpwd.jsp</result>
			<result name="update_pwd_input">/WEB-INF/updatepwd.jsp</result>
			<result name="update_pwd_nologin_fail" type="redirect">login/login.action</result>
			<result name="update_pwd_succ">/WEB-INF/updatepwd_succ.jsp</result>
			<result name="reset_pwd_mail">/WEB-INF/resetpwd_sendMail.jsp</result>
			<result name="reset_pwd_succ">/WEB-INF/resetpwd_succ.jsp</result>
			<result name="ajax" type="json"></result>
		</action>
	</package>

	<!-- 注册 -->
	<package name="reg" namespace="/reg" extends="struts_basic">
		<action name="reg" class="regAction">
			<result name="input">/WEB-INF/reg.jsp</result>
			<result name="reg_succ">/WEB-INF/reg_succ.jsp</result>
			<result name="active_succ">/WEB-INF/active_succ.jsp</result>
			<result name="active_fail">/WEB-INF/active_fail.jsp</result>
			<result name="ajax" type="json"></result>
		</action>
	</package>

	<!-- 股票明细 -->
	<package name="stock" namespace="/stock" extends="struts_basic">
		<action name="stock" class="stockAction">
			<result name="input">/WEB-INF/stock.jsp</result>
		</action>
	</package>
	
	<!-- 图片验证码 -->
	<package name="imageAuth" namespace="/imageAuth" extends="struts_basic">
		<action name="imageAuth" class="imageAuthAction">
			<result name="input" type="stream">
				<param name="contentType">image/jpeg</param>
				<param name="inputName">imageStream</param>
				<param name="bufferSize">2048</param>
			</result>
		</action>
	</package>
	
	<!-- 后台管理菜单 -股票信息管理-->
	<package name="stocksMgr" namespace="/stocksMgr" extends="struts_basic">
		<action name="stocksMgr" class="stocksMgrAction">
			<result name="input">/WEB-INF/admin/stocksMgr/stocksList.jsp</result>
			<result name="ajax" type="json"></result>
		</action>
	</package>
	
	<!-- 后台管理菜单 -财务指标管理-->
	<package name="financeIndexMgr" namespace="/financeIndexMgr" extends="struts_basic">
		<action name="financeIndexMgr" class="financeIndexMgrAction">
			<result name="input">/WEB-INF/admin/financeIndexMgr/financeIndexList.jsp</result>
			<result name="ajax" type="json"></result>
		</action>
	</package>
	
	<!-- 后台管理菜单 -管理员用户管理-->
	<package name="adminUserMgr" namespace="/adminUserMgr" extends="struts_basic">
		<action name="adminUserMgr" class="adminUserMgrAction">
			<result name="input">/WEB-INF/admin/userMgr/adminUserList.jsp</result>
			<result name="ajax" type="json"></result>
		</action>
	</package>
	
	<!-- 后台管理菜单-注册用户管理 -->
	<package name="userMgr" namespace="/userMgr" extends="struts_basic">
		<action name="userMgr" class="userMgrAction">
			<result name="input">/WEB-INF/admin/userMgr/userList.jsp</result>
			<result name="success" type="chain">
				<param name="method">query</param> 
				<param name="actionName">userMgr</param>
           		<param name="namespace">/userMgr</param>
			</result>
			<result name="ajax" type="json"></result>
		</action>
	</package>
	
	
	<!-- 图表展示相关处理action -->
	<!-- 每股指标 -->
	<package name="perShare" namespace="/perShare" extends="struts_basic">
		<action name="perShare" class="perShareAction">
			<result name="EPS">/WEB-INF/perShare/eps.jsp</result>
			<result name="dilutEPS">/WEB-INF/perShare/dilutEPS.jsp</result>
			<result name="mincmPS">/WEB-INF/perShare/mincmPS.jsp</result>
			<result name="opeprfPS">/WEB-INF/perShare/opeprfPS.jsp</result>
			<result name="capsurfdPS">/WEB-INF/perShare/capsurfdPS.jsp</result>
			<result name="surrefdPS">/WEB-INF/perShare/surrefdPS.jsp</result>
			<result name="accumfdPS">/WEB-INF/perShare/accumfdPS.jsp</result>
			<result name="undivprfPS">/WEB-INF/perShare/undivprfPS.jsp</result>
			<result name="retearPS">/WEB-INF/perShare/retearPS.jsp</result>
			<result name="opeCFPS">/WEB-INF/perShare/opeCFPS.jsp</result>
			<result name="CFPS">/WEB-INF/perShare/CFPS.jsp</result>
			<result name="NAPS">/WEB-INF/perShare/NAPS.jsp</result>
			<result name="EBITPS">/WEB-INF/perShare/EBITPS.jsp</result>
		</action>
	</package>
	
	

	<!-- Add packages here <include file="example.xml"/> -->
</struts>
